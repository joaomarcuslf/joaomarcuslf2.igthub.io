<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/includes/2021-11-02-como-buscar-dados-de-api-01.png"/><link rel="preload" as="image" href="/includes/octo-dancing.gif"/><link rel="stylesheet" href="/_next/static/css/3b15ab3fb0450d3b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/320e6718ab718e7a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/56e368478e2fbd44.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-8977c051fd1e8768.js"/><script src="/_next/static/chunks/fd9d1056-23bdddb1df3a91c8.js" async=""></script><script src="/_next/static/chunks/23-1ac2e9991284a592.js" async=""></script><script src="/_next/static/chunks/main-app-ab46e174962f7739.js" async=""></script><script src="/_next/static/chunks/173-9967130b0fdafadd.js" async=""></script><script src="/_next/static/chunks/231-af05b4231fd5e589.js" async=""></script><script src="/_next/static/chunks/968-bea68dd1a25124ee.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-45b0d7f073fb1600.js" async=""></script><script src="/_next/static/chunks/app/layout-fb0945acd00a0f16.js" async=""></script><title>Aprendendo a utilizar HTTP | @joaomarcuslf.com - Full-stack Software engineer</title><meta name="description" content="I&#x27;m Software Engineer since 2015 with great expertise in Front-end development. I like to teach a lot, and write some posts, you can check more here."/><link rel="author" href="https://joaomarcuslf.com"/><meta name="author" content="João Marcus de Lemos Fernandes"/><meta name="keywords" content="Developer, Software engineer, Front-end, Full-stack, React, Javascript, Flask, Python, Joaomarcuslf, Tech Mentor, Mentorship, Mentoria, Senior Developer, Web development"/><meta name="robots" content="index,follow"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@"/><meta name="twitter:creator" content="@joaomarcuslf"/><meta name="twitter:title" content="Aprendendo a utilizar HTTP | @joaomarcuslf.com - Full-stack Software engineer"/><meta name="twitter:description" content="I&#x27;m Software Engineer since 2015 with great expertise in Front-end development. I like to teach a lot, and write some posts, you can check more here."/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="500x372"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="vsc-initialized has-navbar-fixed-top"><nav class="navbar is-fixed-top is-primary" role="navigation" aria-label="main navigation"><div class="navbar-brand"><div class="navbar-item"><img alt="Logo which is written { @ } JOAOMARCUSLF" loading="lazy" width="177" height="28" decoding="async" data-nimg="1" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Flogo-typo.webp&amp;w=256&amp;q=75 1x, /_next/image?url=%2Fimages%2Flogo-typo.webp&amp;w=384&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Flogo-typo.webp&amp;w=384&amp;q=75"/></div><button type="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMenuTarget"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></button></div><div id="navbarMenuTarget" class="navbar-menu"><div class="navbar-start"><a class="navbar-item " href="/">Home</a><a class="navbar-item is-active" href="/posts">Posts</a><a class="navbar-item " href="/projects">Projects</a><a class="navbar-item " href="/about-me">About Me</a></div></div></nav><div id="main" role="main" class="main"><div class="post"><div class="post-header"><h1 class="title has-text-left">Aprendendo a utilizar HTTP</h1><h2 class="subtitle has-text-left">Integrando seu Front-end com APIs de Back-end.</h2><div class="tags mb-0"><a id="tag-Beginner" class="tag is-light" href="/posts#Beginner">Beginner</a><a id="tag-Internal" class="tag is-light" href="/posts#Internal">Internal</a><a id="tag-Hard-skills" class="tag is-light" href="/posts#Hard-skills">Hard-skills</a><a id="tag-HTTP" class="tag is-light" href="/posts#HTTP">HTTP</a><a id="tag-Career" class="tag is-light" href="/posts#Career">Career</a><a id="tag-Portuguese" class="tag is-light" href="/posts#Portuguese">Portuguese</a></div><small>11 minutes<!-- --> <!-- -->to read</small></div><img alt="prendendo a utilizar HTTP" loading="lazy" width="1600" height="800" decoding="async" data-nimg="1" class="is-fullwidth post-cover-image" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Fposts%2Fcomo-buscar-dados-de-api.webp&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fimages%2Fposts%2Fcomo-buscar-dados-de-api.webp&amp;w=3840&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fposts%2Fcomo-buscar-dados-de-api.webp&amp;w=3840&amp;q=75"/><div class="post-content content is-medium"><div><p>Você já precisou chamar uma API enquanto você tava trabalhando no seu Front? Talvez você tenha achado um código na internet, mas não teve certeza de como ele funciona, ou não entendeu todas as partes deles, hoje eu quero te ajudar a entender como funciona para fazer esse tipo de chamadas, ou como nós vamos chamar a partir de agora <span class="code">requisições HTTP</span>.</p><p>Você sabe o que é HTTP? Não, então vem comigo.</p><h2 id="o-que-e-http">O que é HTTP?</h2><p>HTTP é um tipo de protocolo de comunicação, existem muitos na web e fora dela, esses protocolos servem para definir um padrão de comunicação, esse padrão define como deve ser formatado uma requisição, e como você deve esperar uma resposta.</p><p>Pensa assim, eu estou chamando minha cachorra e pedindo para ele me dar a patinha, se nós precisássemos definir um protocolo para esse tipo de requisição funcionaria assim:</p><span class="code">Requisição:</span><p><strong>Destino:</strong> Nissa
<strong>Corpo da chamada:</strong> Me dá a patinha!</p><span class="code">Resposta:</span><ul><li><strong>Destino:</strong> Remetente</li><li><strong>Corpo da resposta:</strong> Requisição bem sucedida.</li></ul><p>E dai, ela me daria a patinha dela. Esse tipo de analogia, a Nissa, minha cachorra, seria um servidor, esse servidor processou minha requisição com base no corpo da chamada, e daria uma resposta se foi bem sucedida ou não, caso ela não me obedecesse, e por exemplo, ao invés de me dar a pata saísse correndo, eu teria essa resposta:</p><span class="code">Resposta:</span><ul><li><strong>Destino:</strong> Remetente</li><li><strong>Corpo da resposta:</strong> Requisição não pôde ser processada corretamente.</li></ul><p>E com esse tipo de resposta, eu, o Front-end/Cliente teria que ter um comportamento para tratar esse tipo de erro. Ficou mais claro agora porquê precisamos definir esses tipos de padrões de comunicação?</p><p>Com isso em mente, vamos entender como o HTTP estrutura seus padrões:</p><h4 id="requisicao">Requisição:</h4><span class="code">Verbo:</span> Definindo qual o tipo da requisição, podendo ser **GET**, **POST**, **PUT**, **DELETE**, ou **OPTIONS**. Todos esses verbos são tratados pelo servidor para cada um ter seu comportamento definido. <br/><span class="code">URL:</span> Aqui contém a URL que o servidor que você quer está hospedado. <br/><span class="code">Cabeçalhos:</span> Aqui é onde podemos passar o que chamamos de metadata, podendo conter a origem da requisição, se possuímos algum tipo de autenticação, ou até mesmo quais valores esperamos receber. Vamos explorar tudo isso mais para frente. <br/><span class="code">Corpo:</span> Aqui é onde vamos passar dados que devem ser utilizados pelo servidor para poder processar nossa requisição de fato. <br/><h4 id="resposta">Resposta:</h4><span class="code">Status:</span> Nessa parte, o servidor irá informar se foi bem sucedido, se falhou, ou qual tipo de resposta o cliente receberá, você pode ver quais <a href="https://http.cat/" target="blank">status mais usados nesse link</a>. <br/><span class="code">Cabeçalhos:</span> Semelhante aos cabeçalhos da requisição, porém aqui os metadata vêm do servidor, então contém qual o tipo de dado que a resposta contém, de onde o servidor responde, informações para cache, e por ai vai. <br/><span class="code">Corpo:</span> Aqui o servidor está te entregando o dado requisitado, ou alguma formatação informando o erro. <br/><p>Veja esse exemplo:</p><h4 id="requisicao">Requisição:</h4><span class="code">Verbo:</span> **GET** <br/><span class="code">URL:</span> https://www.google.com/ <br/><span class="code">Cabeçalhos:</span> **Accept:** text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp;
<span class="code">Corpo:</span><br/><h4 id="resposta">Resposta:</h4><span class="code">Status:</span> 200 **OK** <br/><span class="code">Cabeçalhos:</span><br/><ul><li><strong>content-encoding:</strong> br</li><li><strong>content-length:</strong> 36675</li><li><strong>content-type:</strong> text/html; charset=UTF-8</li></ul><span class="code">Corpo:</span> HTML do site do Google <br/><p>Essa requisição acontece toda vez que você acessa a página do Google, sem que você precise escreve uma linha sequer de código, na requisição nós estamos pedindo o conteúdo que estiver no / do Google, informando que é um GET, e estamos dizendo que esperamos receber imagens, HTML, ou algum tipo de XML. E o Google nos respondeu com a conteúdo do tipo HTML, contendo 36675 caracteres, e com o enconding BR pois estou com meu navegador em português. Você pôde perceber que o Corpo da requisição está vazio? Bom, por convenção o corpo da requisição é opcional em requisições do tipo GET e DELETE.</p><p>Uma grande vantagem do HTTP é que ele trafega texto, então é muito fácil parsear e ler uma chamada HTTP. Talvez você ache que isso torna ele inseguro, e isso seria verdade se não existisse o HTTPS, HTTPS é uma extensão do protocolo HTTP padrão, porém ele criptografa o documento em formato texto, tornando mais seguro a navegação na internet.</p><p>Viu como é fácil? HTTP faz parte do nosso dia-a-dia na internet, então não precisa ter medo de usá-lo, ele permite que a internet funcione do jeito que ela funciona hoje.</p><h2 id="como-podemos-usar">Como podemos usar?</h2><h3 id="preparativos">Preparativos:</h3><p>Para podermos fazer os códigos desse post, nós vamos utilizar o <a href="https://www.npmjs.com/package/json-server" target="blank">json-server</a>, você pode fazer o download dele com o npm. O json-server ele cria um servidor REST com base em um arquivo JSON que você tenha localmente, não é algo que você deva subir para produção, mas ajuda muito em testar seu front-end.</p><p>Você pode baixar o json que usaremos nesses exemplos <a href="/json/db.json" download="">nesse link</a>.</p><p>Em seguida você pode rodar assim:</p><img src="/includes/2021-11-02-como-buscar-dados-de-api-01.png" alt="Como rodar"/><p>Eu criei um projeto contendo os exemplos de como consumir uma api, você pode ver o repositório no final desse post.</p><h3 id="conheca-fetch">Conheça Fetch</h3><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="blank">Fetch API</a>, é a interface padrão do navegador de montar chamadas HTTP dos navegadores mais modernos, eu vou utilizar em todos os exemplos, porém tudo que você vir nesse artigo você pode aplicar no <a href="https://www.npmjs.com/package/axios" target="blank">axios</a>, ou <a href="https://angular.io/guide/http" target="blank">angular.http</a>, ou qualquer outro módulo de HTTP disponível no mercado.
<p>O Fetch possui uma estrutura muito padrãozinha, o que para mim é uma grande vantagem, veja abaixo como ele funciona.</p><pre class="is-hljs"><code class="javascript">fetch(
  &#x27;<a href="http://localhost:3000/users">http://localhost:3000/users</a>&#x27;,
  {
    method: &#x27;GET&#x27;,
    headers: {
      &#x27;Content-Type&#x27;: &#x27;application/json&#x27;
    }
  }
)
  .then(response =&gt; {
    if (response.status &gt;= 300)
      throw new Error(response.statusText);

    return response.json();
  })
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error(error));
</code></pre><p>Se você já se desesperou, tenha calma. Vamos analisar por partes, o Fetch abstrai muito do padrão HTTP, você se lembra que discutimos anteriormente sobre como montamos uma requisição? Nós precisamos do <strong>Destino</strong>, <strong>Verbo</strong>, e os <strong>Headers</strong>. Se você observar as primeiras linhas do nosso código, nós podemos destrinchar nossa requisição dessa forma:</p><h4 id="requisicao">Requisição:</h4><span class="code">Verbo:</span> **GET** <br/><span class="code">URL:</span> http://localhost:3000/users <br/><span class="code">Cabeçalhos:</span><br/><ul><li><strong>Content-Type:</strong> application/json</li></ul><p>E como estamos utilizando promisses, que é uma forma de lidar com código assíncrono com JavaScript, no primeiro <code>.then</code> nós estamos checando se o status é um status de error, normalmente status acima do 300 são status de erro, caso tenhamos algum erro, nós iremos direto para o <code>.catch</code> e ai podemos tratar o erro da forma que desejarmos. Se não temos status de erro nós seguimos para o próximo <code>.then</code> transformando o corpo na nossa requisição em json com a chamada <code>response.json()</code>.</p><p>Nós também podemos reescrever esse código seguindo a syntax-sugar de async/await. Lembre-se que só podemos usar await dentro de funções declaradas como async.</p><pre class="is-hljs"><code class="javascript">try {
  const response = await fetch(&#x27;<a href="http://localhost:3000/users">http://localhost:3000/users</a>&#x27;,
    {
      method: &#x27;GET&#x27;,
      headers: {
        &#x27;Content-Type&#x27;: &#x27;application/json&#x27;
      }
    }
  );

  if (response.status &gt;= 300)
    throw new Error(response.statusText);

  const data = await response.json();

  console.log(data);
} catch (ex) {
  console.error(ex);
}
</code></pre><p>O fetch também tem outra facilidade, caso você queira fazer apenas umas chamada do tipo GET, você pode encurtar ainda mais o seu código.</p><pre class="is-hljs"><code class="javascript">try {
  const response = await fetch(&#x27;<a href="http://localhost:3000/users">http://localhost:3000/users</a>&#x27;);

  if (response.status &gt;= 300)
    throw new Error(response.statusText);

  const data = await response.json();

  console.log(data);
} catch (ex) {
  console.error(ex)
}
</code></pre><p>Mas lembre-se que funciona apenas para chamadas do tipo <strong>GET</strong>.</p><p>Agora, vamos fazer chamadas do tipo <strong>POST</strong>. Ele é muito parecido com o <strong>GET</strong>, a diferença é que mudamos o <code>method</code>, e devemos passar um <code>body</code>. Uma coisa que fazemos com o Fetch é transformar o body em string utilizando o <code>JSON.stringify</code> para podermos montar a nossa requisição.</p><pre class="is-hljs"><code class="javascript">const body = {
  name: &quot;João Marcus Fernandes&quot;,
  username: &quot;joaomarcuslf&quot;,
  role_id: 1
};

try {
  const response = await fetch(&#x27;<a href="http://localhost:3000/users">http://localhost:3000/users</a>&#x27;,
    {
      method: &#x27;POST&#x27;,
      headers: {
        &#x27;Content-Type&#x27;: &#x27;application/json&#x27;
      },
      body: JSON.stringify(body)
    }
  );

  if (response.status &gt;= 300)
    throw new Error(response.statusText);

  const data = await response.json();

  console.log(data);
} catch (ex) {
  console.error(ex)
}
</code></pre><p>Já que vimos o <strong>POST</strong>, vamos ver o <strong>PUT</strong> que é muitíssimo parecido.</p><pre class="is-hljs"><code class="javascript">const body = {
  name: &quot;João Marcus de Lemos&quot;,
  username: &quot;joaomarcuslf&quot;,
  role_id: 2
};

try {
  const response = await fetch(&#x27;<a href="http://localhost:3000/users/3">http://localhost:3000/users/3</a>&#x27;,
    {
      method: &#x27;PUT&#x27;,
      headers: {
        &#x27;Content-Type&#x27;: &#x27;application/json&#x27;
      },
      body: JSON.stringify(body)
    }
  );

  if (response.status &gt;= 300)
    throw new Error(response.statusText);

  const data = await response.json();

  console.log(data);
} catch (ex) {
  console.error(ex)
}
</code></pre><p>O <strong>PUT</strong> ele é uma requisição de atualização serve para mudarmos dados que já existiam na nossa base.</p><p>Agora, só ficou faltando o <strong>DELETE</strong>, e ele é muito parecido com o <strong>GET</strong> pois não tem um body, só precisamos mudar o method. Veja abaixo.</p><pre class="is-hljs"><code class="javascript">try {
  const response = await fetch(&#x27;<a href="http://localhost:3000/users/4">http://localhost:3000/users/4</a>&#x27;,
    {
      method: &#x27;DELETE&#x27;,
      headers: {
        &#x27;Content-Type&#x27;: &#x27;application/json&#x27;
      }
    }
  );

  if (response.status &gt;= 300)
    throw new Error(response.statusText);

  const data = await response.json();

  console.log(data);
} catch (ex) {
  console.error(ex);
}
</code></pre><p>Bom, essas são as formas de implementar chamadas HTTP no Front, com o Fetch a gente tem uma visibilidade muito boa de como funciona o HTTP, e eu gosto disso, ele é bem explícito, porém com o axios também seria bem fácil, vou mostrar abaixo uma versão resumida das requisições.</p><pre class="is-hljs"><code class="javascript">const data = await axios.get(&#x27;<a href="http://localhost:3000/users">http://localhost:3000/users</a>&#x27;)
const data = await axios.post(&#x27;<a href="http://localhost:3000/users">http://localhost:3000/users</a>&#x27;, body)
const data = await axios.put(&#x27;<a href="http://localhost:3000/users/4">http://localhost:3000/users/4</a>&#x27;, body)
const data = await axios.delete(&#x27;<a href="http://localhost:3000/users/4">http://localhost:3000/users/4</a>&#x27;, body)
</code></pre><p>Eu costumo nos projetos em que trabalho montar um helper de HTTP que siga uma assinatura parecida porém utilizando o Fetch, você pode ver como eu faço <a href="https://github.com/joaomarcuslf/http-examples/blob/main/public/js/http.js" target="blank">nesse link</a>.</p><h3 id="concluindo">Concluindo</h3><p>Espero de coração que esse post tenha te ajudado a entender como o HTTP funciona e como fazer chamadas de seu Front-end para pegar os dados de uma api.</p><p>Caso ainda esteja com dúvidas, dê uma olhada no repositório desse post, ele tem exemplos por página. E se ainda assim ficar com dúvida, minhas redes sociais estão no final da página, entre em contato comigo, sua dúvida pode me ajudar a expandir esse post.</p><p>Outro post que eu tenho planejado, é de falar sobre como usar autenticação em chamada HTTP, vejo que muitas pessoas ainda tem dúvida desse tópico.</p><p>Vejo você no próximo!! Byeeee~</p><div class="has-text-centered"><img width="200" src="/includes/octo-dancing.gif" alt="Image from the post"/></div></div></div></div><section id="posts" class="hero images-section is-dark"><div class="hero-body"><h4 class="images-section-subtitle has-text-left">You may also enjoy</h4><div class="images-section-group is-recommendation"><a class="images-section-item" href="/posts/2022-06-10-como-usar-meu-dotfiles"><img alt="Image with a Colorized terminal." loading="lazy" width="466" height="240" decoding="async" data-nimg="1" class="images-section-image" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fcomo-usar-meu-dotfiles.webp&amp;w=640&amp;q=75 1x, /_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fcomo-usar-meu-dotfiles.webp&amp;w=1080&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fcomo-usar-meu-dotfiles.webp&amp;w=1080&amp;q=75"/><h2 class="images-section-subtitle">Como usar meu Dotfiles</h2><small>PT</small></a><a class="images-section-item" href="/posts/2021-11-02-como-buscar-dados-de-api"><img alt="prendendo a utilizar HTTP" loading="lazy" width="466" height="240" decoding="async" data-nimg="1" class="images-section-image" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fcomo-buscar-dados-de-api.webp&amp;w=640&amp;q=75 1x, /_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fcomo-buscar-dados-de-api.webp&amp;w=1080&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fcomo-buscar-dados-de-api.webp&amp;w=1080&amp;q=75"/><h2 class="images-section-subtitle">Aprendendo a utilizar HTTP</h2><small>PT</small></a><a class="images-section-item" href="/posts/2021-10-04-dicas-para-seu-primeiro-emprego"><img alt="Image with a Laptop and a Notebook" loading="lazy" width="466" height="240" decoding="async" data-nimg="1" class="images-section-image" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fdicas-para-seu-primeiro-emprego.webp&amp;w=640&amp;q=75 1x, /_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fdicas-para-seu-primeiro-emprego.webp&amp;w=1080&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fthumbnails%2Fsmall%2Fposts%2Fdicas-para-seu-primeiro-emprego.webp&amp;w=1080&amp;q=75"/><h2 class="images-section-subtitle">Dicas para conseguir o seu primeiro emprego em TI</h2><small>PT</small></a></div></div></section></div><footer class="footer"><div class="content has-text-centered"><p class="mb-0">Made by <strong>@joaomarcuslf</strong>.</p><span class="icon-text mt-5 px-15 is-flex-container has-space-evenly"><a target="blank" href="https://github.com/joaomarcuslf"><span class="is-hidden">Github</span><span class="icon is-large"><span class="fab fa-github fa-lg"> </span></span></a><a target="blank" href="https://www.linkedin.com/in/jo%C3%A3o-marcus-fernandes-4b8814ba"><span class="is-hidden">Linkedin</span><span class="icon is-large"><span class="fab fa-linkedin fa-lg"> </span></span></a><a target="blank" href="https://joaomarcuslf.medium.com"><span class="is-hidden">Medium</span><span class="icon is-large"><span class="fab fa-medium fa-lg"> </span></span></a><a target="blank" href="https://twitter.com/joaomarcuslf"><span class="is-hidden">Twitter</span><span class="icon is-large"><span class="fab fa-twitter fa-lg"> </span></span></a><a target="blank" href="https://www.codewars.com/users/joaomarcuslf"><span class="is-hidden">Codewars</span><span class="icon is-large"><span class="fa fa-code fa-lg"> </span></span></a></span></div></footer><script src="/_next/static/chunks/webpack-8977c051fd1e8768.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/3b15ab3fb0450d3b.css\",\"style\"]\n2:HL[\"/_next/static/css/320e6718ab718e7a.css\",\"style\"]\n3:HL[\"/_next/static/css/56e368478e2fbd44.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[5751,[],\"\"]\n6:I[231,[\"173\",\"static/chunks/173-9967130b0fdafadd.js\",\"231\",\"static/chunks/231-af05b4231fd5e589.js\",\"968\",\"static/chunks/968-bea68dd1a25124ee.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-45b0d7f073fb1600.js\"],\"\"]\n7:I[8173,[\"173\",\"static/chunks/173-9967130b0fdafadd.js\",\"231\",\"static/chunks/231-af05b4231fd5e589.js\",\"968\",\"static/chunks/968-bea68dd1a25124ee.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-45b0d7f073fb1600.js\"],\"Image\"]\n8:I[6446,[\"173\",\"static/chunks/173-9967130b0fdafadd.js\",\"231\",\"static/chunks/231-af05b4231fd5e589.js\",\"968\",\"static/chunks/968-bea68dd1a25124ee.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-45b0d7f073fb1600.js\"],\"default\"]\n9:I[9275,[],\"\"]\nb:I[1343,[],\"\"]\nc:I[6662,[\"173\",\"static/chunks/173-9967130b0fdafadd.js\",\"231\",\"static/chunks/231-af05b4231fd5e589.js\",\"185\",\"static/chunks/app/layout-fb0945acd00a0f16.js\"],\"default\"]\ne:I[6130,[],\"\"]\na:[\"slug\",\"2021-11-02-como-buscar-dados-de-api\",\"d\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3b15ab3fb0450d3b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/320e6718ab718e7a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"1uYmnakKT3AfAixyB699k\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/2021-11-02-como-buscar-dados-de-api\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"2021-11-02-como-buscar-dados-de-api\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"2021-11-02-como-buscar-dados-de-api\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"2021-11-02-como-buscar-dados-de-api\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",[[\"$\",\"div\",null,{\"className\":\"post\",\"children\":[[\"$\",\"div\",null,{\"className\":\"post-header\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"title has-text-left\",\"children\":\"Aprendendo a utilizar HTTP\"}],[\"$\",\"h2\",null,{\"className\":\"subtitle has-text-left\",\"children\":\"Integrando seu Front-end com APIs de Back-end.\"}],[\"$\",\"div\",null,{\"className\":\"tags mb-0\",\"children\":[[\"$\",\"$L6\",\"tag-Beginner\",{\"id\":\"tag-Beginner\",\"href\":\"/posts#Beginner\",\"className\":\"tag is-light\",\"children\":\"Beginner\"}],[\"$\",\"$L6\",\"tag-Internal\",{\"id\":\"tag-Internal\",\"href\":\"/posts#Internal\",\"className\":\"tag is-light\",\"children\":\"Internal\"}],[\"$\",\"$L6\",\"tag-Hard-skills\",{\"id\":\"tag-Hard-skills\",\"href\":\"/posts#Hard-skills\",\"className\":\"tag is-light\",\"children\":\"Hard-skills\"}],[\"$\",\"$L6\",\"tag-HTTP\",{\"id\":\"tag-HTTP\",\"href\":\"/posts#HTTP\",\"className\":\"tag is-light\",\"children\":\"HTTP\"}],[\"$\",\"$L6\",\"tag-Career\",{\"id\":\"tag-Career\",\"href\":\"/posts#Career\",\"className\":\"tag is-light\",\"children\":\"Career\"}],[\"$\",\"$L6\",\"tag-Portuguese\",{\"id\":\"tag-Portuguese\",\"href\":\"/posts#Portuguese\",\"className\":\"tag is-light\",\"children\":\"Portuguese\"}]]}],[\"$\",\"small\",null,{\"children\":[\"11 minutes\",\" \",\"to read\"]}]]}],[\"$\",\"$L7\",null,{\"className\":\"is-fullwidth post-cover-image\",\"src\":\"/images/posts/como-buscar-dados-de-api.webp\",\"alt\":\"prendendo a utilizar HTTP\",\"height\":\"800\",\"width\":\"1600\"}],[\"$\",\"div\",null,{\"className\":\"post-content content is-medium\",\"children\":[\"$\",\"div\",\"outer\",{\"children\":[[\"$\",\"p\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Você já precisou chamar uma API enquanto você tava trabalhando no seu Front? Talvez você tenha achado um código na internet, mas não teve certeza de como ele funciona, ou não entendeu todas as partes deles, hoje eu quero te ajudar a entender como funciona para fazer esse tipo de chamadas, ou como nós vamos chamar a partir de agora \",[\"$\",\"span\",\"6\",{\"className\":\"code\",\"children\":[\"requisições HTTP\"]}],\".\"]}],[\"$\",\"p\",\"1\",{\"className\":\"$undefined\",\"children\":[\"Você sabe o que é HTTP? Não, então vem comigo.\"]}],[\"$\",\"h2\",\"2\",{\"id\":\"o-que-e-http\",\"className\":\"$undefined\",\"children\":[\"O que é HTTP?\"]}],[\"$\",\"p\",\"3\",{\"className\":\"$undefined\",\"children\":[\"HTTP é um tipo de protocolo de comunicação, existem muitos na web e fora dela, esses protocolos servem para definir um padrão de comunicação, esse padrão define como deve ser formatado uma requisição, e como você deve esperar uma resposta.\"]}],[\"$\",\"p\",\"4\",{\"className\":\"$undefined\",\"children\":[\"Pensa assim, eu estou chamando minha cachorra e pedindo para ele me dar a patinha, se nós precisássemos definir um protocolo para esse tipo de requisição funcionaria assim:\"]}],[\"$\",\"span\",\"5\",{\"className\":\"code\",\"children\":[\"Requisição:\"]}],[\"$\",\"p\",\"6\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Destino:\"]}],\" Nissa\\n\",[\"$\",\"strong\",\"2\",{\"className\":\"$undefined\",\"children\":[\"Corpo da chamada:\"]}],\" Me dá a patinha!\"]}],[\"$\",\"span\",\"7\",{\"className\":\"code\",\"children\":[\"Resposta:\"]}],[\"$\",\"ul\",\"8\",{\"start\":\"$undefined\",\"className\":\"$undefined\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Destino:\"]}],\" Remetente\"]}],[\"$\",\"li\",\"1\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Corpo da resposta:\"]}],\" Requisição bem sucedida.\"]}]]}],[\"$\",\"p\",\"9\",{\"className\":\"$undefined\",\"children\":[\"E dai, ela me daria a patinha dela. Esse tipo de analogia, a Nissa, minha cachorra, seria um servidor, esse servidor processou minha requisição com base no corpo da chamada, e daria uma resposta se foi bem sucedida ou não, caso ela não me obedecesse, e por exemplo, ao invés de me dar a pata saísse correndo, eu teria essa resposta:\"]}],[\"$\",\"span\",\"10\",{\"className\":\"code\",\"children\":[\"Resposta:\"]}],[\"$\",\"ul\",\"11\",{\"start\":\"$undefined\",\"className\":\"$undefined\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Destino:\"]}],\" Remetente\"]}],[\"$\",\"li\",\"1\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Corpo da resposta:\"]}],\" Requisição não pôde ser processada corretamente.\"]}]]}],[\"$\",\"p\",\"12\",{\"className\":\"$undefined\",\"children\":[\"E com esse tipo de resposta, eu, o Front-end/Cliente teria que ter um comportamento para tratar esse tipo de erro. Ficou mais claro agora porquê precisamos definir esses tipos de padrões de comunicação?\"]}],[\"$\",\"p\",\"13\",{\"className\":\"$undefined\",\"children\":[\"Com isso em mente, vamos entender como o HTTP estrutura seus padrões:\"]}],[\"$\",\"h4\",\"14\",{\"id\":\"requisicao\",\"className\":\"$undefined\",\"children\":[\"Requisição:\"]}],[\"$\",\"span\",\"15\",{\"className\":\"code\",\"children\":[\"Verbo:\"]}],\" Definindo qual o tipo da requisição, podendo ser **GET**, **POST**, **PUT**, **DELETE**, ou **OPTIONS**. Todos esses verbos são tratados pelo servidor para cada um ter seu comportamento definido. \",[\"$\",\"br\",\"42\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"43\",{\"className\":\"code\",\"children\":[\"URL:\"]}],\" Aqui contém a URL que o servidor que você quer está hospedado. \",[\"$\",\"br\",\"45\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"46\",{\"className\":\"code\",\"children\":[\"Cabeçalhos:\"]}],\" Aqui é onde podemos passar o que chamamos de metadata, podendo conter a origem da requisição, se possuímos algum tipo de autenticação, ou até mesmo quais valores esperamos receber. Vamos explorar tudo isso mais para frente. \",[\"$\",\"br\",\"51\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"52\",{\"className\":\"code\",\"children\":[\"Corpo:\"]}],\" Aqui é onde vamos passar dados que devem ser utilizados pelo servidor para poder processar nossa requisição de fato. \",[\"$\",\"br\",\"54\",{\"className\":\"$undefined\"}],[\"$\",\"h4\",\"55\",{\"id\":\"resposta\",\"className\":\"$undefined\",\"children\":[\"Resposta:\"]}],[\"$\",\"span\",\"56\",{\"className\":\"code\",\"children\":[\"Status:\"]}],\" Nessa parte, o servidor irá informar se foi bem sucedido, se falhou, ou qual tipo de resposta o cliente receberá, você pode ver quais \",[\"$\",\"a\",\"62\",{\"href\":\"https://http.cat/\",\"target\":\"blank\",\"className\":\"$undefined\",\"children\":[\"status mais usados nesse link\"]}],\". \",[\"$\",\"br\",\"64\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"65\",{\"className\":\"code\",\"children\":[\"Cabeçalhos:\"]}],\" Semelhante aos cabeçalhos da requisição, porém aqui os metadata vêm do servidor, então contém qual o tipo de dado que a resposta contém, de onde o servidor responde, informações para cache, e por ai vai. \",[\"$\",\"br\",\"72\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"73\",{\"className\":\"code\",\"children\":[\"Corpo:\"]}],\" Aqui o servidor está te entregando o dado requisitado, ou alguma formatação informando o erro. \",[\"$\",\"br\",\"76\",{\"className\":\"$undefined\"}],[\"$\",\"p\",\"77\",{\"className\":\"$undefined\",\"children\":[\"Veja esse exemplo:\"]}],[\"$\",\"h4\",\"78\",{\"id\":\"requisicao\",\"className\":\"$undefined\",\"children\":[\"Requisição:\"]}],[\"$\",\"span\",\"79\",{\"className\":\"code\",\"children\":[\"Verbo:\"]}],\" **GET** \",[\"$\",\"br\",\"85\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"86\",{\"className\":\"code\",\"children\":[\"URL:\"]}],\" https://www.google.com/ \",[\"$\",\"br\",\"97\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"98\",{\"className\":\"code\",\"children\":[\"Cabeçalhos:\"]}],\" **Accept:** text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp;\\n\",[\"$\",\"span\",\"124\",{\"className\":\"code\",\"children\":[\"Corpo:\"]}],[\"$\",\"br\",\"125\",{\"className\":\"$undefined\"}],[\"$\",\"h4\",\"126\",{\"id\":\"resposta\",\"className\":\"$undefined\",\"children\":[\"Resposta:\"]}],[\"$\",\"span\",\"127\",{\"className\":\"code\",\"children\":[\"Status:\"]}],\" 200 **OK** \",[\"$\",\"br\",\"133\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"134\",{\"className\":\"code\",\"children\":[\"Cabeçalhos:\"]}],[\"$\",\"br\",\"135\",{\"className\":\"$undefined\"}],[\"$\",\"ul\",\"136\",{\"start\":\"$undefined\",\"className\":\"$undefined\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"content-encoding:\"]}],\" br\"]}],[\"$\",\"li\",\"1\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"content-length:\"]}],\" 36675\"]}],[\"$\",\"li\",\"2\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"content-type:\"]}],\" text/html; charset=UTF-8\"]}]]}],[\"$\",\"span\",\"137\",{\"className\":\"code\",\"children\":[\"Corpo:\"]}],\" HTML do site do Google \",[\"$\",\"br\",\"139\",{\"className\":\"$undefined\"}],[\"$\",\"p\",\"140\",{\"className\":\"$undefined\",\"children\":[\"Essa requisição acontece toda vez que você acessa a página do Google, sem que você precise escreve uma linha sequer de código, na requisição nós estamos pedindo o conteúdo que estiver no / do Google, informando que é um GET, e estamos dizendo que esperamos receber imagens, HTML, ou algum tipo de XML. E o Google nos respondeu com a conteúdo do tipo HTML, contendo 36675 caracteres, e com o enconding BR pois estou com meu navegador em português. Você pôde perceber que o Corpo da requisição está vazio? Bom, por convenção o corpo da requisição é opcional em requisições do tipo GET e DELETE.\"]}],[\"$\",\"p\",\"141\",{\"className\":\"$undefined\",\"children\":[\"Uma grande vantagem do HTTP é que ele trafega texto, então é muito fácil parsear e ler uma chamada HTTP. Talvez você ache que isso torna ele inseguro, e isso seria verdade se não existisse o HTTPS, HTTPS é uma extensão do protocolo HTTP padrão, porém ele criptografa o documento em formato texto, tornando mais seguro a navegação na internet.\"]}],[\"$\",\"p\",\"142\",{\"className\":\"$undefined\",\"children\":[\"Viu como é fácil? HTTP faz parte do nosso dia-a-dia na internet, então não precisa ter medo de usá-lo, ele permite que a internet funcione do jeito que ela funciona hoje.\"]}],[\"$\",\"h2\",\"143\",{\"id\":\"como-podemos-usar\",\"className\":\"$undefined\",\"children\":[\"Como podemos usar?\"]}],[\"$\",\"h3\",\"144\",{\"id\":\"preparativos\",\"className\":\"$undefined\",\"children\":[\"Preparativos:\"]}],[\"$\",\"p\",\"145\",{\"className\":\"$undefined\",\"children\":[\"Para podermos fazer os códigos desse post, nós vamos utilizar o \",[\"$\",\"a\",\"2\",{\"href\":\"https://www.npmjs.com/package/json-server\",\"target\":\"blank\",\"className\":\"$undefined\",\"children\":[\"json-server\"]}],\", você pode fazer o download dele com o npm. O json-server ele cria um servidor REST com base em um arquivo JSON que você tenha localmente, não é algo que você deva subir para produção, mas ajuda muito em testar seu front-end.\"]}],[\"$\",\"p\",\"146\",{\"className\":\"$undefined\",\"children\":[\"Você pode baixar o json que usaremos nesses exemplos \",[\"$\",\"a\",\"1\",{\"href\":\"/json/db.json\",\"download\":true,\"className\":\"$undefined\",\"children\":[\"nesse link\"]}],\".\"]}],[\"$\",\"p\",\"147\",{\"className\":\"$undefined\",\"children\":[\"Em seguida você pode rodar assim:\"]}],[\"$\",\"img\",\"148\",{\"src\":\"/includes/2021-11-02-como-buscar-dados-de-api-01.png\",\"alt\":\"Como rodar\",\"className\":\"$undefined\"}],[\"$\",\"p\",\"149\",{\"className\":\"$undefined\",\"children\":[\"Eu criei um projeto contendo os exemplos de como consumir uma api, você pode ver o repositório no final desse post.\"]}],[\"$\",\"h3\",\"150\",{\"id\":\"conheca-fetch\",\"className\":\"$undefined\",\"children\":[\"Conheça Fetch\"]}],[\"$\",\"a\",\"151\",{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\",\"target\":\"blank\",\"className\":\"$undefined\",\"children\":[\"Fetch API\"]}],\", é a interface padrão do navegador de montar chamadas HTTP dos navegadores mais modernos, eu vou utilizar em todos os exemplos, porém tudo que você vir nesse artigo você pode aplicar no \",[\"$\",\"a\",\"155\",{\"href\":\"https://www.npmjs.com/package/axios\",\"target\":\"blank\",\"className\":\"$undefined\",\"children\":[\"axios\"]}],\", ou \",[\"$\",\"a\",\"157\",{\"href\":\"https://angular.io/guide/http\",\"target\":\"blank\",\"className\":\"$undefined\",\"children\":[\"angular.http\"]}],\", ou qualquer outro módulo de HTTP disponível no mercado.\\n\",[\"$\",\"p\",\"160\",{\"className\":\"$undefined\",\"children\":[\"O Fetch possui uma estrutura muito padrãozinha, o que para mim é uma grande vantagem, veja abaixo como ele funciona.\"]}],[\"$\",\"pre\",\"161\",{\"className\":\"is-hljs\",\"children\":[[\"$\",\"code\",\"0\",{\"className\":\"javascript\",\"children\":[\"fetch(\\n  '\",[\"$\",\"a\",\"1\",{\"href\":\"http://localhost:3000/users\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users\"]}],\"',\\n  {\\n    method: 'GET',\\n    headers: {\\n      'Content-Type': 'application/json'\\n    }\\n  }\\n)\\n  .then(response =\u003e {\\n    if (response.status \u003e= 300)\\n      throw new Error(response.statusText);\\n\\n    return response.json();\\n  })\\n  .then(data =\u003e console.log(data))\\n  .catch(error =\u003e console.error(error));\\n\"]}]]}],[\"$\",\"p\",\"162\",{\"className\":\"$undefined\",\"children\":[\"Se você já se desesperou, tenha calma. Vamos analisar por partes, o Fetch abstrai muito do padrão HTTP, você se lembra que discutimos anteriormente sobre como montamos uma requisição? Nós precisamos do \",[\"$\",\"strong\",\"5\",{\"className\":\"$undefined\",\"children\":[\"Destino\"]}],\", \",[\"$\",\"strong\",\"7\",{\"className\":\"$undefined\",\"children\":[\"Verbo\"]}],\", e os \",[\"$\",\"strong\",\"9\",{\"className\":\"$undefined\",\"children\":[\"Headers\"]}],\". Se você observar as primeiras linhas do nosso código, nós podemos destrinchar nossa requisição dessa forma:\"]}],[\"$\",\"h4\",\"163\",{\"id\":\"requisicao\",\"className\":\"$undefined\",\"children\":[\"Requisição:\"]}],[\"$\",\"span\",\"164\",{\"className\":\"code\",\"children\":[\"Verbo:\"]}],\" **GET** \",[\"$\",\"br\",\"170\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"171\",{\"className\":\"code\",\"children\":[\"URL:\"]}],\" http://localhost:3000/users \",[\"$\",\"br\",\"191\",{\"className\":\"$undefined\"}],[\"$\",\"span\",\"192\",{\"className\":\"code\",\"children\":[\"Cabeçalhos:\"]}],[\"$\",\"br\",\"193\",{\"className\":\"$undefined\"}],[\"$\",\"ul\",\"194\",{\"start\":\"$undefined\",\"className\":\"$undefined\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"strong\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Content-Type:\"]}],\" application/json\"]}]]}],[\"$\",\"p\",\"195\",{\"className\":\"$undefined\",\"children\":[\"E como estamos utilizando promisses, que é uma forma de lidar com código assíncrono com JavaScript, no primeiro \",[\"$\",\"code\",\"3\",{\"className\":\"$undefined\",\"children\":[\".then\"]}],\" nós estamos checando se o status é um status de error, normalmente status acima do 300 são status de erro, caso tenhamos algum erro, nós iremos direto para o \",[\"$\",\"code\",\"8\",{\"className\":\"$undefined\",\"children\":[\".catch\"]}],\" e ai podemos tratar o erro da forma que desejarmos. Se não temos status de erro nós seguimos para o próximo \",[\"$\",\"code\",\"10\",{\"className\":\"$undefined\",\"children\":[\".then\"]}],\" transformando o corpo na nossa requisição em json com a chamada \",[\"$\",\"code\",\"12\",{\"className\":\"$undefined\",\"children\":[\"response.json()\"]}],\".\"]}],[\"$\",\"p\",\"196\",{\"className\":\"$undefined\",\"children\":[\"Nós também podemos reescrever esse código seguindo a syntax-sugar de async/await. Lembre-se que só podemos usar await dentro de funções declaradas como async.\"]}],[\"$\",\"pre\",\"197\",{\"className\":\"is-hljs\",\"children\":[[\"$\",\"code\",\"0\",{\"className\":\"javascript\",\"children\":[\"try {\\n  const response = await fetch('\",[\"$\",\"a\",\"3\",{\"href\":\"http://localhost:3000/users\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users\"]}],\"',\\n    {\\n      method: 'GET',\\n      headers: {\\n        'Content-Type': 'application/json'\\n      }\\n    }\\n  );\\n\\n  if (response.status \u003e= 300)\\n    throw new Error(response.statusText);\\n\\n  const data = await response.json();\\n\\n  console.log(data);\\n} catch (ex) {\\n  console.error(ex);\\n}\\n\"]}]]}],[\"$\",\"p\",\"198\",{\"className\":\"$undefined\",\"children\":[\"O fetch também tem outra facilidade, caso você queira fazer apenas umas chamada do tipo GET, você pode encurtar ainda mais o seu código.\"]}],[\"$\",\"pre\",\"199\",{\"className\":\"is-hljs\",\"children\":[[\"$\",\"code\",\"0\",{\"className\":\"javascript\",\"children\":[\"try {\\n  const response = await fetch('\",[\"$\",\"a\",\"3\",{\"href\":\"http://localhost:3000/users\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users\"]}],\"');\\n\\n  if (response.status \u003e= 300)\\n    throw new Error(response.statusText);\\n\\n  const data = await response.json();\\n\\n  console.log(data);\\n} catch (ex) {\\n  console.error(ex)\\n}\\n\"]}]]}],[\"$\",\"p\",\"200\",{\"className\":\"$undefined\",\"children\":[\"Mas lembre-se que funciona apenas para chamadas do tipo \",[\"$\",\"strong\",\"2\",{\"className\":\"$undefined\",\"children\":[\"GET\"]}],\".\"]}],[\"$\",\"p\",\"201\",{\"className\":\"$undefined\",\"children\":[\"Agora, vamos fazer chamadas do tipo \",[\"$\",\"strong\",\"2\",{\"className\":\"$undefined\",\"children\":[\"POST\"]}],\". Ele é muito parecido com o \",[\"$\",\"strong\",\"4\",{\"className\":\"$undefined\",\"children\":[\"GET\"]}],\", a diferença é que mudamos o \",[\"$\",\"code\",\"6\",{\"className\":\"$undefined\",\"children\":[\"method\"]}],\", e devemos passar um \",[\"$\",\"code\",\"8\",{\"className\":\"$undefined\",\"children\":[\"body\"]}],\". Uma coisa que fazemos com o Fetch é transformar o body em string utilizando o \",[\"$\",\"code\",\"10\",{\"className\":\"$undefined\",\"children\":[\"JSON.stringify\"]}],\" para podermos montar a nossa requisição.\"]}],[\"$\",\"pre\",\"202\",{\"className\":\"is-hljs\",\"children\":[[\"$\",\"code\",\"0\",{\"className\":\"javascript\",\"children\":[\"const body = {\\n  name: \\\"João Marcus Fernandes\\\",\\n  username: \\\"joaomarcuslf\\\",\\n  role_id: 1\\n};\\n\\ntry {\\n  const response = await fetch('\",[\"$\",\"a\",\"13\",{\"href\":\"http://localhost:3000/users\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users\"]}],\"',\\n    {\\n      method: 'POST',\\n      headers: {\\n        'Content-Type': 'application/json'\\n      },\\n      body: JSON.stringify(body)\\n    }\\n  );\\n\\n  if (response.status \u003e= 300)\\n    throw new Error(response.statusText);\\n\\n  const data = await response.json();\\n\\n  console.log(data);\\n} catch (ex) {\\n  console.error(ex)\\n}\\n\"]}]]}],[\"$\",\"p\",\"203\",{\"className\":\"$undefined\",\"children\":[\"Já que vimos o \",[\"$\",\"strong\",\"1\",{\"className\":\"$undefined\",\"children\":[\"POST\"]}],\", vamos ver o \",[\"$\",\"strong\",\"3\",{\"className\":\"$undefined\",\"children\":[\"PUT\"]}],\" que é muitíssimo parecido.\"]}],[\"$\",\"pre\",\"204\",{\"className\":\"is-hljs\",\"children\":[[\"$\",\"code\",\"0\",{\"className\":\"javascript\",\"children\":[\"const body = {\\n  name: \\\"João Marcus de Lemos\\\",\\n  username: \\\"joaomarcuslf\\\",\\n  role_id: 2\\n};\\n\\ntry {\\n  const response = await fetch('\",[\"$\",\"a\",\"13\",{\"href\":\"http://localhost:3000/users/3\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users/3\"]}],\"',\\n    {\\n      method: 'PUT',\\n      headers: {\\n        'Content-Type': 'application/json'\\n      },\\n      body: JSON.stringify(body)\\n    }\\n  );\\n\\n  if (response.status \u003e= 300)\\n    throw new Error(response.statusText);\\n\\n  const data = await response.json();\\n\\n  console.log(data);\\n} catch (ex) {\\n  console.error(ex)\\n}\\n\"]}]]}],[\"$\",\"p\",\"205\",{\"className\":\"$undefined\",\"children\":[\"O \",[\"$\",\"strong\",\"1\",{\"className\":\"$undefined\",\"children\":[\"PUT\"]}],\" ele é uma requisição de atualização serve para mudarmos dados que já existiam na nossa base.\"]}],[\"$\",\"p\",\"206\",{\"className\":\"$undefined\",\"children\":[\"Agora, só ficou faltando o \",[\"$\",\"strong\",\"2\",{\"className\":\"$undefined\",\"children\":[\"DELETE\"]}],\", e ele é muito parecido com o \",[\"$\",\"strong\",\"4\",{\"className\":\"$undefined\",\"children\":[\"GET\"]}],\" pois não tem um body, só precisamos mudar o method. Veja abaixo.\"]}],[\"$\",\"pre\",\"207\",{\"className\":\"is-hljs\",\"children\":[[\"$\",\"code\",\"0\",{\"className\":\"javascript\",\"children\":[\"try {\\n  const response = await fetch('\",[\"$\",\"a\",\"3\",{\"href\":\"http://localhost:3000/users/4\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users/4\"]}],\"',\\n    {\\n      method: 'DELETE',\\n      headers: {\\n        'Content-Type': 'application/json'\\n      }\\n    }\\n  );\\n\\n  if (response.status \u003e= 300)\\n    throw new Error(response.statusText);\\n\\n  const data = await response.json();\\n\\n  console.log(data);\\n} catch (ex) {\\n  console.error(ex);\\n}\\n\"]}]]}],[\"$\",\"p\",\"208\",{\"className\":\"$undefined\",\"children\":[\"Bom, essas são as formas de implementar chamadas HTTP no Front, com o Fetch a gente tem uma visibilidade muito boa de como funciona o HTTP, e eu gosto disso, ele é bem explícito, porém com o axios também seria bem fácil, vou mostrar abaixo uma versão resumida das requisições.\"]}],[\"$\",\"pre\",\"209\",{\"className\":\"is-hljs\",\"children\":[[\"$\",\"code\",\"0\",{\"className\":\"javascript\",\"children\":[\"const data = await axios.get('\",[\"$\",\"a\",\"2\",{\"href\":\"http://localhost:3000/users\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users\"]}],\"')\\nconst data = await axios.post('\",[\"$\",\"a\",\"5\",{\"href\":\"http://localhost:3000/users\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users\"]}],\"', body)\\nconst data = await axios.put('\",[\"$\",\"a\",\"9\",{\"href\":\"http://localhost:3000/users/4\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users/4\"]}],\"', body)\\nconst data = await axios.delete('\",[\"$\",\"a\",\"13\",{\"href\":\"http://localhost:3000/users/4\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"http://localhost:3000/users/4\"]}],\"', body)\\n\"]}]]}],[\"$\",\"p\",\"210\",{\"className\":\"$undefined\",\"children\":[\"Eu costumo nos projetos em que trabalho montar um helper de HTTP que siga uma assinatura parecida porém utilizando o Fetch, você pode ver como eu faço \",[\"$\",\"a\",\"2\",{\"href\":\"https://github.com/joaomarcuslf/http-examples/blob/main/public/js/http.js\",\"target\":\"blank\",\"className\":\"$undefined\",\"children\":[\"nesse link\"]}],\".\"]}],[\"$\",\"h3\",\"211\",{\"id\":\"concluindo\",\"className\":\"$undefined\",\"children\":[\"Concluindo\"]}],[\"$\",\"p\",\"212\",{\"className\":\"$undefined\",\"children\":[\"Espero de coração que esse post tenha te ajudado a entender como o HTTP funciona e como fazer chamadas de seu Front-end para pegar os dados de uma api.\"]}],[\"$\",\"p\",\"213\",{\"className\":\"$undefined\",\"children\":[\"Caso ainda esteja com dúvidas, dê uma olhada no repositório desse post, ele tem exemplos por página. E se ainda assim ficar com dúvida, minhas redes sociais estão no final da página, entre em contato comigo, sua dúvida pode me ajudar a expandir esse post.\"]}],[\"$\",\"p\",\"214\",{\"className\":\"$undefined\",\"children\":[\"Outro post que eu tenho planejado, é de falar sobre como usar autenticação em chamada HTTP, vejo que muitas pessoas ainda tem dúvida desse tópico.\"]}],[\"$\",\"p\",\"215\",{\"className\":\"$undefined\",\"children\":[\"Vejo você no próximo!! Byeeee~\"]}],[\"$\",\"div\",\"216\",{\"className\":\"has-text-centered\",\"children\":[[\"$\",\"img\",\"0\",{\"width\":\"200\",\"src\":\"/includes/octo-dancing.gif\",\"alt\":\"Image from the post\",\"className\":\"$undefined\"}]]}]]}]}]]}],[\"$\",\"section\",null,{\"id\":\"posts\",\"className\":\"hero images-section is-dark\",\"children\":[\"$\",\"div\",null,{\"className\":\"hero-body\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"images-section-subtitle has-text-left\",\"children\":\"You may also enjoy\"}],[\"$\",\"div\",null,{\"className\":\"images-section-group is-recommendation\",\"children\":[[\"$\",\"$L6\",null,{\"className\":\"images-section-item\",\"href\":\"/posts/2022-06-10-como-usar-meu-dotfiles\",\"children\":[[\"$\",\"$L7\",null,{\"className\":\"images-section-image\",\"src\":\"/images/thumbnails/small/posts/como-usar-meu-dotfiles.webp\",\"alt\":\"Image with a Colorized terminal.\",\"width\":\"466\",\"height\":\"240\"}],[\"$\",\"h2\",null,{\"className\":\"images-section-subtitle\",\"children\":\"Como usar meu Dotfiles\"}],[\"$\",\"small\",null,{\"children\":\"PT\"}]]}],[\"$\",\"$L6\",null,{\"className\":\"images-section-item\",\"href\":\"/posts/2021-11-02-como-buscar-dados-de-api\",\"children\":[[\"$\",\"$L7\",null,{\"className\":\"images-section-image\",\"src\":\"/images/thumbnails/small/posts/como-buscar-dados-de-api.webp\",\"alt\":\"prendendo a utilizar HTTP\",\"width\":\"466\",\"height\":\"240\"}],[\"$\",\"h2\",null,{\"className\":\"images-section-subtitle\",\"children\":\"Aprendendo a utilizar HTTP\"}],[\"$\",\"small\",null,{\"children\":\"PT\"}]]}],[\"$\",\"$L6\",null,{\"className\":\"images-section-item\",\"href\":\"/posts/2021-10-04-dicas-para-seu-primeiro-emprego\",\"children\":[[\"$\",\"$L7\",null,{\"className\":\"images-section-image\",\"src\":\"/images/thumbnails/small/posts/dicas-para-seu-primeiro-emprego.webp\",\"alt\":\"Image with a Laptop and a Notebook\",\"width\":\"466\",\"height\":\"240\"}],[\"$\",\"h2\",null,{\"className\":\"images-section-subtitle\",\"children\":\"Dicas para conseguir o seu primeiro emprego em TI\"}],[\"$\",\"small\",null,{\"children\":\"PT\"}]]}]]}]]}]}],[\"$\",\"$L8\",null,{}]]],null],null]},[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$a\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/56e368478e2fbd44.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"vsc-initialized has-navbar-fixed-top\",\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"div\",null,{\"id\":\"main\",\"role\":\"main\",\"className\":\"main\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"footer\",\"children\":[\"$\",\"div\",null,{\"className\":\"content has-text-centered\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-0\",\"children\":[\"Made by \",[\"$\",\"strong\",null,{\"children\":\"@joaomarcuslf\"}],\".\"]}],[\"$\",\"span\",null,{\"className\":\"icon-text mt-5 px-15 is-flex-container has-space-evenly\",\"children\":[[\"$\",\"$L6\",\"https://github.com/joaomarcuslf\",{\"href\":\"https://github.com/joaomarcuslf\",\"target\":\"blank\",\"children\":[[\"$\",\"span\",null,{\"className\":\"is-hidden\",\"children\":\"Github\"}],[\"$\",\"span\",null,{\"className\":\"icon is-large\",\"children\":[\"$\",\"span\",null,{\"className\":\"fab fa-github fa-lg\",\"children\":\" \"}]}]]}],[\"$\",\"$L6\",\"https://www.linkedin.com/in/jo%C3%A3o-marcus-fernandes-4b8814ba\",{\"href\":\"https://www.linkedin.com/in/jo%C3%A3o-marcus-fernandes-4b8814ba\",\"target\":\"blank\",\"children\":[[\"$\",\"span\",null,{\"className\":\"is-hidden\",\"children\":\"Linkedin\"}],[\"$\",\"span\",null,{\"className\":\"icon is-large\",\"children\":[\"$\",\"span\",null,{\"className\":\"fab fa-linkedin fa-lg\",\"children\":\" \"}]}]]}],[\"$\",\"$L6\",\"https://joaomarcuslf.medium.com\",{\"href\":\"https://joaomarcuslf.medium.com\",\"target\":\"blank\",\"children\":[[\"$\",\"span\",null,{\"className\":\"is-hidden\",\"children\":\"Medium\"}],[\"$\",\"span\",null,{\"className\":\"icon is-large\",\"children\":[\"$\",\"span\",null,{\"className\":\"fab fa-medium fa-lg\",\"children\":\" \"}]}]]}],[\"$\",\"$L6\",\"https://twitter.com/joaomarcuslf\",{\"href\":\"https://twitter.com/joaomarcuslf\",\"target\":\"blank\",\"children\":[[\"$\",\"span\",null,{\"className\":\"is-hidden\",\"children\":\"Twitter\"}],[\"$\",\"span\",null,{\"className\":\"icon is-large\",\"children\":[\"$\",\"span\",null,{\"className\":\"fab fa-twitter fa-lg\",\"children\":\" \"}]}]]}],[\"$\",\"$L6\",\"https://www.codewars.com/users/joaomarcuslf\",{\"href\":\"https://www.codewars.com/users/joaomarcuslf\",\"target\":\"blank\",\"children\":[[\"$\",\"span\",null,{\"className\":\"is-hidden\",\"children\":\"Codewars\"}],[\"$\",\"span\",null,{\"className\":\"icon is-large\",\"children\":[\"$\",\"span\",null,{\"className\":\"fa fa-code fa-lg\",\"children\":\" \"}]}]]}]]}]]}]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Aprendendo a utilizar HTTP | @joaomarcuslf.com - Full-stack Software engineer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"I'm Software Engineer since 2015 with great expertise in Front-end development. I like to teach a lot, and write some posts, you can check more here.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://joaomarcuslf.com\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"João Marcus de Lemos Fernandes\"}],[\"$\",\"meta\",\"6\",{\"name\":\"keywords\",\"content\":\"Developer, Software engineer, Front-end, Full-stack, React, Javascript, Flask, Python, Joaomarcuslf, Tech Mentor, Mentorship, Mentoria, Senior Developer, Web development\"}],[\"$\",\"meta\",\"7\",{\"name\":\"robots\",\"content\":\"index,follow\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:site\",\"content\":\"@\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:creator\",\"content\":\"@joaomarcuslf\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:title\",\"content\":\"Aprendendo a utilizar HTTP | @joaomarcuslf.com - Full-stack Software engineer\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:description\",\"content\":\"I'm Software Engineer since 2015 with great expertise in Front-end development. I like to teach a lot, and write some posts, you can check more here.\"}],[\"$\",\"link\",\"13\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"500x372\"}]]\n5:null\n"])</script></body></html>