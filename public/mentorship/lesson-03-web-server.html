<!DOCTYPE html>
<html>
  <head>
    <title>
      Golang 03 - Adicionando nosso servidor – João Marcus de Lemos Fernandes
    </title>
    <meta charset="utf-8" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=6.0"
    />
    <meta name="robot" content="all" />
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />
    <meta name="language" content="en,pt" />
    <meta name="robots" content="index,follow" />
    <meta name="theme-color" content="" />
    <link rel="apple-touch-icon" href="/images/logo-hex.webp" />
    <meta
      property="og:image"
      content="http://joaomarcuslf.com/images/logo-hex.webp"
    />
    <meta
      property="og:title"
      content="Golang 03 - Adicionando nosso servidor"
    />
    <meta
      property="twitter:title"
      content="Golang 03 - Adicionando nosso servidor"
    />
    <meta
      property="og:site_name"
      content="Golang 03 - Adicionando nosso servidor"
    />
    <meta name="description" content="Expectativas " />
    <meta property="og:description" content="Expectativas " />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Golang 03 - Adicionando nosso servidor - Expectativas "
      href="/feed.xml"
    />
    <meta
      name="keywords"
      content="Developer, Software engineer, Front-end, Full-stack, React, Javascript, Flask, Python, Joaomarcuslf, Tech Mentor, Mentorship, Mentoria, Senior Developer, Web development"
    />
    <meta
      name="abstract"
      content="My presentation website as Software developer"
    />
    <meta name="author" content="João Marcus de Lemos Fernandes" />
    <meta property="og:locale" content="en" />
    <link rel="canonical" href="https://joaomarcuslf.com/" />
    <meta property="og:url" content="https://joaomarcuslf.com/" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@joaomarcuslf" />
    <link rel="stylesheet" type="text/css" href="/css/vendors.css" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <link rel="stylesheet" type="text/css" href="/css/mentorship.css" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="@joaomarcuslf.com - Full-stack Software engineer - I'm Software Engineer since 2015 with great expertise in Front-end development. I like to teach a lot, and write some posts, you can check more here."
      href="/feed.xml"
    />
    <link rel="stylesheet" type="text/css" href="/css/hljs.css" />
  </head>
  <body>
    <div id="main" role="main" class="main">
      <section
        class="hero is-link has-background is-mini bg-mentorship typewriter"
      >
        <div class="hero-body">
          <h1
            class="title"
            aria-label="Golang 03 - Adicionando nosso servidor"
            aria-hidden="true"
          >
            Golang 03 - Adicionando nosso servidor
          </h1>
          <h2 class="subtitle">Criando templates, e variáveis de templates.</h2>
        </div>
      </section>
      <br />
      <div class="container">
        <article class="media">
          <div class="media-content">
            <div class="content">
              <h2 id="expectativas">Expectativas</h2>
              <p>
                Nessa aula vamos criar nosso servidor HTTP, e aprender a
                renderizar HTML utilizando valores providos pelo nosso servidor.
                E no conteúdo adicional vamos ver como atualizar o servidor
                sempre que salvarmos.
              </p>
              <hr />
              <p>Ponto de partida desse post:</p>
              <div>
                <article
                  class="project-card"
                  data-gh-project="joaomarcuslf/go-mentorship"
                >
                  <figure class="project-card-image">
                    <p class="image">
                      <img
                        src="https://raw.githubusercontent.com/devicons/devicon/master/icons/go/go-original.svg"
                        alt="go logo"
                        width="128"
                        height="128"
                      />
                    </p>
                  </figure>
                  <div class="project-card-content">
                    <header class="project-card-header">
                      <p class="project-card-suptitle">
                        On
                        <a
                          target="blank"
                          href="https://github.com/joaomarcuslf/go-mentorship/tree/lesson-03"
                          title="View on GitHub"
                          >GitHub</a
                        >
                        <small>#/tree/lesson-03</small>
                      </p>
                      <a
                        target="blank"
                        href="https://github.com/joaomarcuslf/go-mentorship/tree/lesson-03"
                        title="View on GitHub"
                      >
                        <h6 class="project-card-title">go-mentorship</h6>
                      </a>
                    </header>
                    <div class="project-card-body">
                      <dl class="project-card-details">
                        <dt>Forked</dt>
                        <dd class="fork">
                          <a
                            target="blank"
                            href="https://github.com/joaomarcuslf/go-mentorship/fork"
                            title="View fork details"
                          >
                          </a>
                        </dd>
                        <dt>Starred</dt>
                        <dd class="star">
                          <a
                            target="blank"
                            href="https://github.com/joaomarcuslf/go-mentorship/stargazers "
                            title="View fork details"
                          >
                          </a>
                        </dd>
                      </dl>
                    </div>
                  </div>
                </article>
              </div>
              <h2 id="executando-servidor">Executando servidor</h2>
              <p>
                Para criar nosso servidor, nós vamos utilizar a
                <a href="https://refactoring.guru/pt-br/design-patterns/command"
                  >Design Pattern Command</a
                >, uma design pattern comportamental que vai ser muito útil para
                quando nós quisermos rodar o servidor em Go routines.
              </p>
              <p>
                Nessa primeira versão nós vamos usar a Lib principal de HTTP no
                Go, a <a href="https://golang.org/pkg/net/http/">net/http</a>.
                Comece rodando os seguintes comandos:
              </p>
              <div class="language-bash highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="nb">mkdir </span>server
<span class="nb">touch </span>server/http.go
</code>
  </pre>
                </div>
              </div>
              <p>
                Abra o arquivo
                <code class="language-plaintext highlighter-rouge"
                  >http.go</code
                >
                e escreva o seguinte:
              </p>
              <div class="language-go highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="k">package</span> <span class="n">server</span>

<span class="k">import</span> <span class="p">(</span>
  <span class="s">"fmt"</span>
  <span class="s">"net/http"</span>

  <span class="n">io</span> <span class="s">"github.com/joaomarcuslf/qr-generator/services/io"</span>
<span class="p">)</span>

<span class="k">var</span> <span class="n">cli</span> <span class="o">*</span>
  <span class="n">io</span>
  <span class="o">.</span>
  <span class="n">CLI</span> <span class="o">=</span> <span class="n">io</span>
  <span class="o">.</span>
  <span class="n">NewCLI</span>
  <span class="p">()</span>

<span class="k">type</span> <span class="n">Server</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">Port</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">NewServer</span>
  <span class="p">(</span>
  <span class="n">port</span> <span class="kt">string</span>
  <span class="p">)</span> <span class="o">*</span>
  <span class="n">Server</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&amp;</span>
  <span class="n">Server</span>
  <span class="p">{</span>
    <span class="n">Port</span>
  <span class="o">:</span> <span class="n">port</span>
  <span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Index</span>
  <span class="p">(</span>
  <span class="n">w</span> <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">ResponseWriter</span>
  <span class="p">,</span> <span class="n">r</span> <span class="o">*</span>
  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">Request</span>
  <span class="p">)</span> <span class="p">{</span>
  <span class="n">fmt</span>
  <span class="o">.</span>
  <span class="n">Fprintf</span>
  <span class="p">(</span>
  <span class="n">w</span>
  <span class="p">,</span> <span class="s">"OK"</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span>
  <span class="n">a</span> <span class="o">*</span>
  <span class="n">Server</span>
  <span class="p">)</span> <span class="n">Run</span>
  <span class="p">()</span> <span class="p">{</span>
  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">HandleFunc</span>
  <span class="p">(</span>
  <span class="s">"/"</span>
  <span class="p">,</span> <span class="n">Index</span>
  <span class="p">)</span>

  <span class="n">cli</span>
  <span class="o">.</span>
  <span class="n">Write</span>
  <span class="p">(</span>
  <span class="s">"Server running on port: "</span> <span class="o">+</span> <span class="n">a</span>
  <span class="o">.</span>
  <span class="n">Port</span>
  <span class="p">)</span>

  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">ListenAndServe</span>
  <span class="p">(</span>
  <span class="s">":"</span>
  <span class="o">+</span>
  <span class="n">a</span>
  <span class="o">.</span>
  <span class="n">Port</span>
  <span class="p">,</span> <span class="no">nil</span>
  <span class="p">)</span>
<span class="p">}</span>
</code>
  </pre>
                </div>
              </div>
              <p>
                Perceba que a função
                <code class="language-plaintext highlighter-rouge">Index</code>
                utiliza aquele mesmo padrão de writer recebendo um
                <code class="language-plaintext highlighter-rouge"
                  >io.Writer</code
                >. Se você quiser, você pode criar uma interface dentro do
                <code class="language-plaintext highlighter-rouge">io</code> que
                envolva o
                <code class="language-plaintext highlighter-rouge">Fprintf</code
                >, no momento será desnecessário pois logo vamos mudar essa
                função.
              </p>
              <p>
                Agora abra o
                <code class="language-plaintext highlighter-rouge">main.go</code
                >, e vamos atualizar o arquivo para usarmos o nosso servidor:
              </p>
              <div class="language-go highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
  <span class="n">server</span> <span class="s">"github.com/joaomarcuslf/qr-generator/server"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span>
  <span class="p">()</span> <span class="p">{</span>
  <span class="n">server</span> <span class="o">:=</span> <span class="n">server</span>
  <span class="o">.</span>
  <span class="n">NewServer</span>
  <span class="p">(</span>
  <span class="s">"8000"</span>
  <span class="p">)</span>
  <span class="n">server</span>
  <span class="o">.</span>
  <span class="n">Run</span>
  <span class="p">()</span>
<span class="p">}</span>
</code>
  </pre>
                </div>
              </div>
              <p>
                Basta executar seu código com
                <code class="language-plaintext highlighter-rouge"
                  >go run main.go</code
                >, e abrir seu navegador em
                <a href="http://localhost:8000/">http://localhost:8000/</a> para
                ver os resultados do seu código.
              </p>
              <p>
                Para melhorar a organização, vamos separar nossos
                <code class="language-plaintext highlighter-rouge"
                  >handlers</code
                >
                em arquivos.
              </p>
              <blockquote>
                <p>
                  Não sabe o que é handler? Se convenciona chamar de handler uma
                  função de rota, que é responsável por tratar o request e
                  responder.
                </p>
              </blockquote>
              <div class="language-bash highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="nb">mkdir </span>handlers
<span class="nb">mkdir </span>handlers/web
<span class="nb">touch </span>handlers/web/html.go
</code>
  </pre>
                </div>
              </div>
              <p>
                Abra o arquivo
                <code class="language-plaintext highlighter-rouge"
                  >html.go</code
                >
                e escreva o seguinte:
              </p>
              <div class="language-go highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="k">package</span> <span class="n">handlers</span>

<span class="k">import</span> <span class="p">(</span>
  <span class="s">"fmt"</span>
  <span class="s">"net/http"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">Home</span>
  <span class="p">(</span>
  <span class="n">w</span> <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">ResponseWriter</span>
  <span class="p">,</span> <span class="n">r</span> <span class="o">*</span>
  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">Request</span>
  <span class="p">)</span> <span class="p">{</span>
  <span class="n">fmt</span>
  <span class="o">.</span>
  <span class="n">Fprintf</span>
  <span class="p">(</span>
  <span class="n">w</span>
  <span class="p">,</span> <span class="s">"OK"</span>
  <span class="p">)</span>
<span class="p">}</span>
</code>
  </pre>
                </div>
              </div>
              <p>
                Em seguida vamos atualizar o
                <code class="language-plaintext highlighter-rouge"
                  >http.go</code
                >
                para usar o nosso handler:
              </p>
              <div class="language-go highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="k">import</span> <span class="p">(</span>
  <span class="c">/* ... */</span>
  <span class="n">web</span> <span class="s">"github.com/joaomarcuslf/qr-generator/handlers/web"</span>
  <span class="c">/* ... */</span>
<span class="p">)</span>

<span class="c">/* ... */</span>

<span class="k">func</span> <span class="p">(</span>
  <span class="n">a</span> <span class="o">*</span>
  <span class="n">Server</span>
  <span class="p">)</span> <span class="n">Run</span>
  <span class="p">()</span> <span class="p">{</span>
  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">HandleFunc</span>
  <span class="p">(</span>
  <span class="s">"/"</span>
  <span class="p">,</span> <span class="n">web</span>
  <span class="o">.</span>
  <span class="n">Home</span>
  <span class="p">)</span>

  <span class="c">/* ... */</span>
<span class="p">}</span>
</code>
  </pre>
                </div>
              </div>
              <p>
                Você pode apagar a antiga função
                <code class="language-plaintext highlighter-rouge">Index</code>,
                e agora é só restartar nosso servidor, e nada deve ter mudado.
                Agora vamos começar a fazer nossos HTMLs, como essa aula não tem
                foco em HTML, eu vou só passar por cima, e explicar as partes
                que o Go entra.
              </p>
              <div class="language-bash highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="nb">mkdir </span>static
<span class="nb">touch </span>static/main.css
</code>
  </pre>
                </div>
              </div>
              <p>
                Abra o
                <code class="language-plaintext highlighter-rouge"
                  >main.css</code
                >
                e preencha com o seguinte CSS:
              </p>
              <div class="language-css highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="k">@import</span> <span class="s1">"https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"</span>
  <span class="p">;</span>

<span class="nc">.is-purple</span>
  <span class="o">,</span> <span class="nc">.is-purple.is-dark</span> <span class="p">{</span>
  <span class="nl">background-color</span>
  <span class="p">:</span> <span class="m">#5f163a</span>
  <span class="p">;</span>
  <span class="nl">color</span>
  <span class="p">:</span> <span class="m">#f7e8f0</span>
  <span class="p">;</span>
<span class="p">}</span>

<span class="nc">.is-purple.is-light</span> <span class="p">{</span>
  <span class="nl">background-color</span>
  <span class="p">:</span> <span class="m">#f7e8f0</span>
  <span class="p">;</span>
  <span class="nl">color</span>
  <span class="p">:</span> <span class="m">#551637</span>
  <span class="p">;</span>
<span class="p">}</span>

<span class="nt">button</span>
  <span class="nc">.is-purple</span> <span class="p">{</span>
  <span class="nl">background-color</span>
  <span class="p">:</span> <span class="m">#5f163a</span>
  <span class="p">;</span>
  <span class="nl">color</span>
  <span class="p">:</span> <span class="m">#f7e8f0</span>
  <span class="p">;</span>
  <span class="nl">transition</span>
  <span class="p">:</span> <span class="n">background-color</span> <span class="m">0.2s</span> <span class="n">ease</span> <span class="m">0s</span>
  <span class="p">;</span>
  <span class="nl">transition</span>
  <span class="p">:</span> <span class="n">color</span> <span class="m">0.2s</span> <span class="n">ease</span> <span class="m">0s</span>
  <span class="p">;</span>
<span class="p">}</span>

<span class="nt">button</span>
  <span class="nc">.is-purple</span>
  <span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background-color</span>
  <span class="p">:</span> <span class="m">#d5a6bd</span>
  <span class="p">;</span>
  <span class="nl">color</span>
  <span class="p">:</span> <span class="m">#5f163a</span>
  <span class="p">;</span>
<span class="p">}</span>
</code>
  </pre>
                </div>
              </div>
              <p>Em seguida, vamos criar os templates.</p>
              <div class="language-bash highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="nb">mkdir </span>templates
<span class="nb">touch </span>templates/index.html
</code>
  </pre>
                </div>
              </div>
              <p>
                Abra o
                <code class="language-plaintext highlighter-rouge"
                  >index.html</code
                >
                e preencha com o seguinte HTML:
              </p>
              <div class="language-html highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>{{.Title}}<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span>
  <span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">content=</span>
  <span class="s">"text/html; charset=utf-8"</span> <span class="na">http-equiv=</span>
  <span class="s">"Content-Type"</span>
  <span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">name=</span>
  <span class="s">"viewport"</span> <span class="na">content=</span>
  <span class="s">"width=device-width, initial-scale=1.0, maximum-scale=6.0"</span>
  <span class="nt">&gt;</span>

  <span class="nt">&lt;meta</span> <span class="na">name=</span>
  <span class="s">"description"</span> <span class="na">content=</span>
  <span class="s">"{{.Description}}"</span>
  <span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">property=</span>
  <span class="s">"og:description_safe"</span> <span class="na">content=</span>
  <span class="s">"{{.Description}}"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">rel=</span>
  <span class="s">"stylesheet"</span> <span class="na">type=</span>
  <span class="s">"text/css"</span> <span class="na">href=</span>
  <span class="s">"/static/main.css"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;section</span> <span class="na">class=</span>
  <span class="s">"hero is-purple is-light is-fullheight"</span>
  <span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span>
  <span class="s">"hero-body"</span>
  <span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span>
  <span class="s">"container"</span>
  <span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span>
  <span class="s">"columns is-centered"</span>
  <span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span>
  <span class="s">"column is-8-tablet is-7-desktop is-7-widescreen"</span>
  <span class="nt">&gt;</span>
            <span class="nt">&lt;form</span> <span class="na">action=</span>
  <span class="s">"/generator"</span> <span class="na">method=</span>
  <span class="s">post</span> <span class="na">class=</span>
  <span class="s">"box"</span>
  <span class="nt">&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span>
  <span class="s">"field"</span>
  <span class="nt">&gt;</span>
                <span class="nt">&lt;label</span> <span class="na">for=</span>
  <span class="s">""</span> <span class="na">class=</span>
  <span class="s">"label has-text-left"</span>
  <span class="nt">&gt;</span>Please enter the string you want to QRCode.<span class="nt">&lt;/label&gt;</span>

                <span class="nt">&lt;div</span> <span class="na">class=</span>
  <span class="s">"control"</span>
  <span class="nt">&gt;</span>
                  <span class="nt">&lt;input</span>
                    <span class="err">{{</span>
  <span class="na">if</span> <span class="err">.</span>
  <span class="na">Error</span>
  <span class="err">}}</span>
                      <span class="na">class=</span>
  <span class="s">"input is-danger"</span>
                    <span class="err">{{</span>
  <span class="na">else</span>
  <span class="err">}}</span>
                      <span class="na">class=</span>
  <span class="s">"input"</span>
                    <span class="err">{{</span>
  <span class="na">end</span>
  <span class="err">}}</span>
                    <span class="na">placeholder=</span>
  <span class="s">"e.g. www.google.com"</span>
                    <span class="na">name=</span>
  <span class="s">"dataString"</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/div&gt;</span>

                {{if .Error}}
                  <span class="nt">&lt;p</span> <span class="na">class=</span>
  <span class="s">"help is-danger"</span>
  <span class="nt">&gt;</span>{{.Error}}<span class="nt">&lt;/p&gt;</span>
                {{end}}
              <span class="nt">&lt;/div&gt;</span>

              <span class="nt">&lt;div</span> <span class="na">class=</span>
  <span class="s">"field has-text-right"</span>
  <span class="nt">&gt;</span>
                <span class="nt">&lt;button</span> <span class="na">class=</span>
  <span class="s">"button is-purple is-rounded is-medium is-fullwidth"</span>
  <span class="nt">&gt;</span>
                  Submit
                <span class="nt">&lt;/button&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/form&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/section&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code>
  </pre>
                </div>
              </div>
              <p>Quero chamar atenção para alguns trechos do HTML:</p>
              <div class="language-html highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="nt">&lt;title&gt;</span>{{.Title}}<span class="nt">&lt;/title&gt;</span>

<span class="nt">&lt;meta</span> <span class="na">name=</span>
  <span class="s">"description"</span> <span class="na">content=</span>
  <span class="s">"{{.Description}}"</span>
  <span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">property=</span>
  <span class="s">"og:description_safe"</span> <span class="na">content=</span>
  <span class="s">"{{.Description}}"</span> <span class="nt">/&gt;</span>

{{if .Error}}
  class="input is-danger"
{{else}}
  class="input"
{{end}}

{{if .Error}}
  <span class="nt">&lt;p</span> <span class="na">class=</span>
  <span class="s">"help is-danger"</span>
  <span class="nt">&gt;</span>{{.Error}}<span class="nt">&lt;/p&gt;</span>
{{end}}
</code>
  </pre>
                </div>
              </div>
              <p>
                Nesses trechos nós estamos utilizando três variáveis,
                <code class="language-plaintext highlighter-rouge">.Title</code
                >,
                <code class="language-plaintext highlighter-rouge"
                  >.Description</code
                >
                e
                <code class="language-plaintext highlighter-rouge">.Error</code
                >. Essas variáveis são enviadas pelo Go para o template, como se
                fossem lacunas. Vamos atualizar nosso
                <code class="language-plaintext highlighter-rouge"
                  >web/html.go</code
                >.
              </p>
              <div class="language-go highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="k">package</span> <span class="n">handlers</span>

<span class="k">import</span> <span class="p">(</span>
  <span class="s">"net/http"</span>
  <span class="s">"text/template"</span>
<span class="p">)</span>

<span class="k">type</span> <span class="n">Page</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">Title</span>       <span class="kt">string</span>
  <span class="n">Description</span> <span class="kt">string</span>
  <span class="n">Error</span>       <span class="kt">string</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Home</span>
  <span class="p">(</span>
  <span class="n">w</span> <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">ResponseWriter</span>
  <span class="p">,</span> <span class="n">r</span> <span class="o">*</span>
  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">Request</span>
  <span class="p">)</span> <span class="p">{</span>
  <span class="n">p</span> <span class="o">:=</span> <span class="n">Page</span>
  <span class="p">{</span>
    <span class="n">Title</span>
  <span class="o">:</span>       <span class="s">"QR Code Generator"</span>
  <span class="p">,</span>
    <span class="n">Description</span>
  <span class="o">:</span> <span class="s">"A page to generate QR"</span>
  <span class="p">,</span>
  <span class="p">}</span>

  <span class="n">t</span>
  <span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">template</span>
  <span class="o">.</span>
  <span class="n">ParseFiles</span>
  <span class="p">(</span>
  <span class="s">"templates/index.html"</span>
  <span class="p">)</span>

  <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">Error</span>
  <span class="p">(</span>
  <span class="n">w</span>
  <span class="p">,</span> <span class="n">err</span>
  <span class="o">.</span>
  <span class="n">Error</span>
  <span class="p">(),</span> <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">StatusInternalServerError</span>
  <span class="p">)</span>
    <span class="k">return</span>
  <span class="p">}</span>

  <span class="n">t</span>
  <span class="o">.</span>
  <span class="n">Execute</span>
  <span class="p">(</span>
  <span class="n">w</span>
  <span class="p">,</span> <span class="n">p</span>
  <span class="p">)</span>
<span class="p">}</span>
</code>
  </pre>
                </div>
              </div>
              <p>
                E vamos atualizar nosso
                <code class="language-plaintext highlighter-rouge">http.go</code
                >, pois agora nós utilizamos pastas estáticas, e precisamos
                dizer ao nosso servidor para olhar para elas.:
              </p>
              <div class="language-go highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="c">/* ... */</span>

<span class="k">func</span> <span class="p">(</span>
  <span class="n">a</span> <span class="o">*</span>
  <span class="n">Server</span>
  <span class="p">)</span> <span class="n">Run</span>
  <span class="p">()</span> <span class="p">{</span>
  <span class="n">fs</span> <span class="o">:=</span> <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">FileServer</span>
  <span class="p">(</span>
  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">Dir</span>
  <span class="p">(</span>
  <span class="s">"./static"</span>
  <span class="p">))</span>
  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">Handle</span>
  <span class="p">(</span>
  <span class="s">"/static/"</span>
  <span class="p">,</span> <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">StripPrefix</span>
  <span class="p">(</span>
  <span class="s">"/static/"</span>
  <span class="p">,</span> <span class="n">fs</span>
  <span class="p">))</span>

  <span class="n">http</span>
  <span class="o">.</span>
  <span class="n">HandleFunc</span>
  <span class="p">(</span>
  <span class="s">"/"</span>
  <span class="p">,</span> <span class="n">web</span>
  <span class="o">.</span>
  <span class="n">Home</span>
  <span class="p">)</span>

  <span class="c">/* ... */</span>
<span class="p">}</span>
</code>
  </pre>
                </div>
              </div>
              <h2 id="concluindo">Concluindo</h2>
              <p>
                Agora é só atualizar seu servidor, e abrir
                <a href="http://localhost:8000/">http://localhost:8000/</a>,
                você vai ver o nosso HTML. Por hora ele não funciona, e é o que
                vamos fazer na nossa próxima aula. Revise o que fizemos e
                brinque com o HTML, CSS. Entenda também as variáveis.
              </p>
              <p>
                Na próxima aula, nós vamos implementar a rota
                <code class="language-plaintext highlighter-rouge"
                  >/generator</code
                >.
              </p>
              <h2 id="adicionais">Adicionais</h2>
              <p>
                Se você estiver cansado de ficar atualizando seu servidor, você
                pode utilizar o
                <a href="https://github.com/cosmtrek/air">cosmtrek/air</a>, siga
                o guia de instalação.
              </p>
              <p>Depois rode:</p>
              <div class="language-bash highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>air init

air server <span class="nt">--port</span> 8000
</code>
  </pre>
                </div>
              </div>
              <p>
                Agora sempre que você salvar seu código, o air irá atualizar seu
                servidor. E se você utilizar VS Code, você pode criar uma forma
                de rodar o servidor direto no editor.
              </p>
              <div class="language-bash highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="nb">mkdir</span> .vscode

<span class="nb">touch</span> .vscode/launch.json
</code>
  </pre>
                </div>
              </div>
              <p>
                Abra
                <code class="language-plaintext highlighter-rouge"
                  >.vscode/launch.json</code
                >:
              </p>
              <div class="language-json highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight">
  <code>
  <span class="p">{</span>
  <span class="w">
    </span>
  <span class="nl">"version"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"0.2.0"</span>
  <span class="p">,</span>
  <span class="w">
    </span>
  <span class="nl">"configurations"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="p">[</span>
  <span class="w">
        </span>
  <span class="p">{</span>
  <span class="w">
          </span>
  <span class="nl">"command"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"air server --port 8000"</span>
  <span class="p">,</span>
  <span class="w">
          </span>
  <span class="nl">"name"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"Live Reload Server"</span>
  <span class="p">,</span>
  <span class="w">
          </span>
  <span class="nl">"request"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"launch"</span>
  <span class="p">,</span>
  <span class="w">
          </span>
  <span class="nl">"type"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"node-terminal"</span>
  <span class="w">
        </span>
  <span class="p">},</span>
  <span class="w">
        </span>
  <span class="p">{</span>
  <span class="w">
            </span>
  <span class="nl">"name"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"Launch Package"</span>
  <span class="p">,</span>
  <span class="w">
            </span>
  <span class="nl">"type"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"go"</span>
  <span class="p">,</span>
  <span class="w">
            </span>
  <span class="nl">"request"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"launch"</span>
  <span class="p">,</span>
  <span class="w">
            </span>
  <span class="nl">"mode"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"auto"</span>
  <span class="p">,</span>
  <span class="w">
            </span>
  <span class="nl">"program"</span>
  <span class="p">:</span>
  <span class="w"> </span>
  <span class="s2">"${workspaceFolder}"</span>
  <span class="w">
        </span>
  <span class="p">}</span>
  <span class="w">
    </span>
  <span class="p">]</span>
  <span class="w">
</span>
  <span class="p">}</span>
  <span class="w">
</span>
  </code>
  </pre>
                </div>
              </div>
              <p>
                Agora é só abrir a Tab
                <code class="language-plaintext highlighter-rouge"
                  >Run and Debug</code
                >
                e clique em
                <code class="language-plaintext highlighter-rouge"
                  >Live Reload Server</code
                >. Prontinho, agora você não precisará rodar tantos comandos
                para atualizar seu servidor. A outra opção(<code
                  class="language-plaintext highlighter-rouge"
                  >Launch Package</code
                >), é para quando precisarmos debugar o servidor sem correr
                risco de ficar atualizando por qualquer mudança.
              </p>
              <h2 id="link-do-projeto">Link do projeto:</h2>
              <div>
                <article
                  class="project-card"
                  data-gh-project="joaomarcuslf/go-mentorship"
                >
                  <figure class="project-card-image">
                    <p class="image">
                      <img
                        src="https://raw.githubusercontent.com/devicons/devicon/master/icons/go/go-original.svg"
                        alt="go logo"
                        width="128"
                        height="128"
                      />
                    </p>
                  </figure>
                  <div class="project-card-content">
                    <header class="project-card-header">
                      <p class="project-card-suptitle">
                        On
                        <a
                          target="blank"
                          href="https://github.com/joaomarcuslf/go-mentorship"
                          title="View on GitHub"
                          >GitHub</a
                        >
                      </p>
                      <a
                        target="blank"
                        href="https://github.com/joaomarcuslf/go-mentorship"
                        title="View on GitHub"
                      >
                        <h6 class="project-card-title">go-mentorship</h6>
                      </a>
                    </header>
                    <div class="project-card-body">
                      <dl class="project-card-details">
                        <dt>Forked</dt>
                        <dd class="fork">
                          <a
                            target="blank"
                            href="https://github.com/joaomarcuslf/go-mentorship/fork"
                            title="View fork details"
                          >
                          </a>
                        </dd>
                        <dt>Starred</dt>
                        <dd class="star">
                          <a
                            target="blank"
                            href="https://github.com/joaomarcuslf/go-mentorship/stargazers "
                            title="View fork details"
                          >
                          </a>
                        </dd>
                      </dl>
                    </div>
                  </div>
                </article>
              </div>
              <h2 id="lista-de-aulas">Lista de aulas:</h2>
              <ul>
                <li>
                  <a href="/mentorship/lesson-00-getting-started"
                    >Golang 00 - Primeiros passos</a
                  >
                </li>
                <li>
                  <a href="/mentorship/lesson-01-creating-app"
                    >Golang 01- Criando nosso App</a
                  >
                </li>
                <li>
                  <a href="/mentorship/lesson-02-refactoring"
                    >Golang 02 - Refatorando nossos serviços</a
                  >
                </li>
                <li>
                  <a href="/mentorship/lesson-03-web-server"
                    >Golang 03 - Adicionando nosso servidor</a
                  >
                </li>
                <li>
                  <a href="/mentorship/lesson-04-generate-qr"
                    >Golang 04 - Adicionando rota geradora</a
                  >
                </li>
                <li>
                  <a href="/mentorship/lesson-05-add-api"
                    >Golang 05 - Adicionando nossa API</a
                  >
                </li>
                <li>
                  <a href="/mentorship/lesson-06-consuming-api"
                    >Golang 06 - Consumindo API</a
                  >
                </li>
                <li>
                  <a href="/mentorship/lesson-07-expanding-the-front-end"
                    >Golang 07 - Expandindo o Front-end</a
                  >
                </li>
              </ul>
              <script>
                document.querySelector(
                  '[href="' + location.pathname + '"]'
                ).className = "is-underlined has-text-weight-bold";
              </script>
            </div>
          </div>
        </article>
      </div>
    </div>
    <script src="/js/vendors/highlight.min.js"></script>
    <script src="/js/base.js"></script>
    <script src="/js/post-page.js"></script>
    <script src="/js/hljs.js"></script>
    <script src="/js/mentorship.js"></script>
  </body>
</html>
